<div class="dashboard-container">
  <div class="page-header">
    <h2>Dashboard</h2>
    <p>Visão geral do sistema de controle da loja</p>
  </div>

  <!-- Cards de Resumo -->
  <div class="summary-cards">
    <div class="summary-card">
      <div class="card-icon">
        <i class="pi pi-shopping-cart"></i>
      </div>
      <div class="card-content">
        <h3>Total de Vendas</h3>
        <p class="card-value">R$ 45.250,00</p>
        <span class="card-change positive">+12% este mês</span>
      </div>
    </div>

    <div class="summary-card">
      <div class="card-icon">
        <i class="pi pi-users"></i>
      </div>
      <div class="card-content">
        <h3>Clientes Ativos</h3>
        <p class="card-value">156</p>
        <span class="card-change positive">+8% este mês</span>
      </div>
    </div>

    <div class="summary-card">
      <div class="card-icon">
        <i class="pi pi-box"></i>
      </div>
      <div class="card-content">
        <h3>Produtos em Estoque</h3>
        <p class="card-value">1.247</p>
        <span class="card-change negative">-3% este mês</span>
      </div>
    </div>

    <div class="summary-card">
      <div class="card-icon">
        <i class="pi pi-chart-line"></i>
      </div>
      <div class="card-content">
        <h3>Pedidos Pendentes</h3>
        <p class="card-value">23</p>
        <span class="card-change neutral">0% este mês</span>
      </div>
    </div>
  </div>

  <!-- Gráficos e Slideshow -->
  <div class="charts-section">
    <div class="chart-container">
      <h3>Vendas Mensais</h3>
      <canvas #vendasChart></canvas>
    </div>

    <div class="chart-container">
      <h3>Produtos Mais Vendidos</h3>
      <canvas #produtosChart></canvas>
    </div>
  </div>

  <!-- Card de Slideshow de Observações -->
  <div class="slideshow-section">
    <p-card header="Observações dos Clientes" styleClass="slideshow-card">
      <div class="slideshow-container" *ngIf="slideData.length > 0">
        <!-- Slideshow -->
        <div class="slideshow-wrapper">
          <div class="slide" 
               [class.active]="currentSlideIndex === i"
               *ngFor="let slide of slideData; let i = index">
            
            <div class="slide-content">
              <div class="cliente-header">
                <div class="cliente-avatar">
                  <i class="pi pi-user"></i>
                </div>
                <div class="cliente-info">
                  <h4>{{slide.cliente.nome}}</h4>
                  <span class="cliente-email">{{slide.cliente.email}}</span>
                </div>
                <div class="ultima-compra" *ngIf="slide.ultimaCompra">
                  <span class="compra-valor">R$ {{slide.ultimaCompra.valor | number:'1.2-2'}}</span>
                  <small>{{slide.ultimaCompra.dataCompra | date:'dd/MM/yyyy'}}</small>
                </div>
              </div>

              <div class="observacao-content">
                <div class="observacao-tipo">
                  <span class="tipo-badge">{{getTipoObservacaoLabel(slide.ultimaObservacao.tipo)}}</span>
                  <span class="observacao-data">{{slide.ultimaObservacao.data | date:'dd/MM/yyyy'}}</span>
                </div>
                <p class="observacao-texto">{{slide.ultimaObservacao.observacao}}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Controles de Navegação -->
        <div class="slideshow-controls">
          <button class="control-btn prev" (click)="previousSlide()">
            <i class="pi pi-chevron-left"></i>
          </button>
          
          <div class="slide-indicators">
            <button class="indicator" 
                    [class.active]="currentSlideIndex === i"
                    (click)="goToSlide(i)"
                    *ngFor="let slide of slideData; let i = index">
            </button>
          </div>
          
          <button class="control-btn next" (click)="nextSlide()">
            <i class="pi pi-chevron-right"></i>
          </button>
        </div>
      </div>

      <div class="no-observations" *ngIf="slideData.length === 0">
        <i class="pi pi-comment"></i>
        <p>Nenhuma observação registrada</p>
      </div>
    </p-card>
  </div>
</div>
